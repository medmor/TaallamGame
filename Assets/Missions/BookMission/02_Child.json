{"inkVersion":21,"root":[["\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"start":["#","^speaker:طفل صغير ","/#","#","^portrait:child_neutral ","/#","#","^layout:left ","/#","#","^audio:animal_crossing_high","/#",["ev",{"VAR?":"has_letter_a"},"/ev",{"->":".^.b","c":true},{"b":["\n","^أهلاً! أتمنى أن تستفيد من الحرف \"ا\" الذي أعطيتك إياه.","\n","end",{"->":"start.15"},null]}],["ev",{"VAR?":"book_mission_started"},"/ev",{"->":".^.b","c":true},{"b":["\n","^أهلاً! هل تلعب لعبة الحروف مع المعلم سامي؟","\n",{"->":"help_with_mission"},{"->":"start.15"},null]}],[{"->":".^.b"},{"b":["\n","^أهلاً! أنا أحب اللعب في ساحة المدرسة!","\n",{"->":"casual_play"},{"->":"start.15"},null]}],"nop","\n",{"#f":1}],"help_with_mission":[["ev","str","^نعم، أجمع الحروف","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^لا، ألعب شيئاً آخر","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","#","^speaker:طفل صغير ","/#","#","^portrait:child_happy","/#","^رائع! أعرف لعبة ممتعة. إذا عددت إلى عشرة، سأعطيك حرف \"ا\"!","\n",{"->":"counting_game"},{"#f":5}],"c-1":["\n","#","^speaker:طفل صغير ","/#","#","^portrait:child_neutral","/#","^حسناً! استمتع باللعب.","\n","end",{"#f":5}]}],{"#f":1}],"counting_game":[["#","^speaker:طفل صغير ","/#","#","^portrait:child_excited","/#","^هيا نعد معاً! قل الأرقام من واحد إلى عشرة!","\n","ev","str","^واحد، اثنان، ثلاثة... عشرة!","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^لا أتذكر الأرقام","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev","str","^a","/str",{"f()":"collect_letter"},"pop","/ev","\n","#","^speaker:طفل صغير ","/#","#","^portrait:child_happy ","/#","#","^audio:animal_crossing_low","/#","^ممتاز! عددت بشكل صحيح. تفضل الحرف \"ا\"!","\n","^أنت ذكي جداً! هذا الحرف سيساعدك في كتابة كلمات كثيرة.","\n","end",{"#f":5}],"c-1":["\n","#","^speaker:طفل صغير ","/#","#","^portrait:child_helpful","/#","^لا مشكلة! اذهب إلى المعلم وسيساعدك في تعلم الأرقام.","\n","^عد إليّ عندما تتذكرها!","\n","end",{"#f":5}]}],{"#f":1}],"casual_play":[["ev","str","^هل تريد أن نلعب؟","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^مع السلامة","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","#","^speaker:طفل صغير ","/#","#","^portrait:child_excited","/#","^نعم! لكن أولاً، هل تعرف المعلم سامي؟","\n","^لديه لعبة رائعة عن الحروف!","\n","end",{"#f":5}],"c-1":["\n","#","^speaker:طفل صغير ","/#","#","^portrait:child_neutral","/#","^مع السلامة! استمتع في المدرسة!","\n","end",{"#f":5}]}],{"#f":1}],"is_mission_complete":[["ev",{"VAR?":"has_letter_k"},{"VAR?":"has_letter_t"},"&&",{"VAR?":"has_letter_a"},"&&",{"VAR?":"has_letter_b"},"&&","/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev","~ret",{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n","ev",false,"/ev","~ret",{"->":".^.^.^.2"},null]}],"nop","\n",{"#f":1}],"can_make_book":[["ev",{"f()":"is_mission_complete"},"/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev","~ret",{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n","ev",false,"/ev","~ret",{"->":".^.^.^.2"},null]}],"nop","\n",{"#f":1}],"start_book_mission":["ev",true,"/ev",{"VAR=":"book_mission_started","re":true},"ev",true,"/ev",{"VAR=":"talked_to_teacher","re":true},"ev","str","^book_mission","/str",{"x()":"external_StartMission","exArgs":1},"pop","/ev","\n","ev",{"x()":"external_SaveProgress"},"pop","/ev","\n","ev",{"VAR?":"book_mission_started"},{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"#f":1}],"complete_book_mission":[["ev",{"f()":"can_make_book"},"/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"VAR=":"book_mission_completed","re":true},"ev",true,"/ev",{"VAR=":"has_book","re":true},"ev","str","^complete_book","/str",{"x()":"external_GiveItem","exArgs":1},"pop","/ev","\n","ev","str","^book_mission","/str",{"x()":"external_CompleteMission","exArgs":1},"pop","/ev","\n","ev","str","^mission_complete","/str",{"x()":"external_PlaySound","exArgs":1},"pop","/ev","\n","ev",{"x()":"external_SaveProgress"},"pop","/ev","\n","ev","str","^complete_book_mission: completed","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n","ev",true,"/ev","~ret",{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^complete_book_mission: cannot complete yet","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n","ev",false,"/ev","~ret",{"->":".^.^.^.2"},null]}],"nop","\n",{"#f":1}],"collect_letter":[{"temp=":"letter"},["ev",{"VAR?":"letter"},"str","^k","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"VAR=":"has_letter_k","re":true},"ev","str","^letter_k","/str",{"x()":"external_GiveItem","exArgs":1},"pop","/ev","\n","ev","str","^collect_letter: k","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.5"},null]}],["ev",{"VAR?":"letter"},"str","^t","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"VAR=":"has_letter_t","re":true},"ev","str","^letter_t","/str",{"x()":"external_GiveItem","exArgs":1},"pop","/ev","\n","ev","str","^collect_letter: t","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.5"},null]}],["ev",{"VAR?":"letter"},"str","^a","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"VAR=":"has_letter_a","re":true},"ev","str","^letter_a","/str",{"x()":"external_GiveItem","exArgs":1},"pop","/ev","\n","ev","str","^collect_letter: a","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.5"},null]}],["ev",{"VAR?":"letter"},"str","^b","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"VAR=":"has_letter_b","re":true},"ev","str","^letter_b","/str",{"x()":"external_GiveItem","exArgs":1},"pop","/ev","\n","ev","str","^collect_letter: b","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.5"},null]}],"nop","\n","ev","str","^collect_item","/str",{"x()":"external_PlaySound","exArgs":1},"pop","/ev","\n","ev",{"x()":"external_SaveProgress"},"pop","/ev","\n","ev","str","^collect_letter: finished (post-play/save)","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"#f":1}],"get_apple":["ev",true,"/ev",{"VAR=":"has_apple","re":true},"ev","str","^apple","/str",{"x()":"external_GiveItem","exArgs":1},"pop","/ev","\n","ev",{"x()":"external_SaveProgress"},"pop","/ev","\n","ev","str","^get_apple: given apple","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n",{"#f":1}],"use_apple":[["ev",{"VAR?":"has_apple"},"/ev",{"->":".^.b","c":true},{"b":["\n","ev",false,"/ev",{"VAR=":"has_apple","re":true},"ev","str","^use_apple: success","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n","ev",true,"/ev","~ret",{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^use_apple: no apple to use","/str",{"x()":"debug_log","exArgs":1},"pop","/ev","\n","ev",false,"/ev","~ret",{"->":".^.^.^.2"},null]}],"nop","\n",{"#f":1}],"get_mission_status":[["ev",{"VAR?":"book_mission_completed"},"/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^completed","/str","/ev","~ret",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"book_mission_started"},{"f()":"is_mission_complete"},"&&","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^ready_to_complete","/str","/ev","~ret",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"book_mission_started"},"/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^in_progress","/str","/ev","~ret",{"->":".^.^.^.4"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^not_started","/str","/ev","~ret",{"->":".^.^.^.4"},null]}],"nop","\n",{"#f":1}],"debug_print_state":[["#","^speaker:نظام_تصحيح","/#","^حالة المهمة: ","ev",{"f()":"get_mission_status"},"out","/ev","\n","^الحروف:","\n",["^ك: ","ev",{"VAR?":"has_letter_k"},"out","/ev","\n",["^ت: ","ev",{"VAR?":"has_letter_t"},"out","/ev","\n",["^ا: ","ev",{"VAR?":"has_letter_a"},"out","/ev","\n",["^ب: ","ev",{"VAR?":"has_letter_b"},"out","/ev","\n","end",{"#f":5,"#n":"g-3"}],{"#f":5,"#n":"g-2"}],{"#f":5,"#n":"g-1"}],{"#f":5,"#n":"g-0"}],null],{"#f":1}],"global decl":["ev",false,{"VAR=":"book_mission_started"},false,{"VAR=":"book_mission_completed"},false,{"VAR=":"has_letter_k"},false,{"VAR=":"has_letter_t"},false,{"VAR=":"has_letter_a"},false,{"VAR=":"has_letter_b"},false,{"VAR=":"has_apple"},false,{"VAR=":"has_book"},false,{"VAR=":"talked_to_teacher"},false,{"VAR=":"talked_to_leila"},false,{"VAR=":"talked_to_vendor"},false,{"VAR=":"talked_to_librarian"},"/ev","end",null],"#f":1}],"listDefs":{}}